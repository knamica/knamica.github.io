<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf8">
    <title>ディレイを使ったイントロ付きBGM再生デモ</title>
    <link rel="stylesheet" href="../../css/articles.css">
  </head>
  <body>
    <div id="frame">
      <h1>ディレイを使ってイントロ付きBGMを再生する</h1>
      <article>
        <p>自分で作ったBGMの試聴用、ディレイを使ったイントロつきBGM再生デモとして作りました。</p>
        <p>ソースコード→<a href="hoge">Github</a></p>
        *使い方はGitの方にあります。

        <h2>問題点</h2>
        <ul>
        <li>オーディオの読み込み時間が原因で再生するたびに若干ディレイ時間がずれる</li>
        <li>イントロ再生中にオーディオをpauseすると再開時にメイン部の再生タイミングが盛大にずれる。</li>
        </ul>
        現状、イントロ付きのBGMはプラグインでマーカーを埋め込んだりして再生、というのが一番いい気がします。<br>
        BGMのデモを公開する程度なら十分使えると思いますのでご自由にお使いください。
        <br>

        <h2>AudioChanger.csの概要</h2>
        イントロ部分を再生した後にメイン部分をPlayDelayedを使って再生してます。<br>
        ディレイ時間とイントロ、メイン部分をまとめて管理したかったため、一度構造体に放り込んだ後にセットして再生しています。<br>
        全体の流れとしては<br>
        Start()内部で曲数の分だけ構造体を生成してあらかじめセットしておいたオーディオクリップ、ディレイ時間を読み込む<br>
        OnGUIで再生、停止フラグ、再生する曲ナンバーを管理<br>
        PlayWithDelay()に再生フラグと曲ナンバーを渡して再生（停止）<br>
        LoopNum()で曲ナンバーが1～15をループするようにしています。もっとスマートなやり方がある気がしてならない。。
      </article>

      <a href="../memo.html">メモ一覧</a>
    </div>
  </body>
  </html>
